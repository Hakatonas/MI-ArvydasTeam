<php 

class ArvydasTeam{
    private $strategy = NULL; 
    //nera inicijuotu scenariju
    public function __construct($strategy_ind_id) {
        switch ($strategy_ind_id) {
            case "C": 
                $this->strategy = new Arvydas();
            break;
            case "E": 
                $this->strategy = new Povilas();
            break;
            case "S": 
                $this->strategy = new Eimantas();
            break;
        }
    }
    public function showResponse($book) {
      return $this->strategy->show($book);
    }
}

interface ArvydasTeamInterface {
    public function show();
}
 ///Arvydas
class Arvydas implements ArvydasTeamInterface {
    private $dbh;

    public function __construct(){
        try {
            $this->dbh = new PDO('mysql:host=localhost;dbname=mediainno', 'root', '123456');
            $this->dbh->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_WARNING);
            $this->dbh->exec('SET NAMES utf8');
        } catch(PDOException $e){
            echo $e->getMessage();
        }
    }

    public function show(){
        $sth = $this->dbh->query("SELECT name FROM text WHERE id = '1'");
        $data = $sth->fetch(PDO::FETCH_ASSOC);
        return $data['name'];
    }
}
//Povilas
class Povilas implements ArvydasTeamInterface  {
    public function show(){
        
    }
}
//Eimantas
class Eimantas implements ArvydasTeamInterface  {
    public function show(){
    }
}

  writeln('BEGIN TESTING STRATEGY PATTERN');
  writeln('');

  $book = new Book('PHP for Cats','Larry Truett');
 
  $strategyArvydas = new Arvydas('C');
  $strategyPovilas = new Povilas('E');
  $strategyEimantas = new Eimantas('S');
 
  writeln('test 1 - show  Arvydas');
  writeln($strategyArvydas->show());
  writeln('');

  writeln('test 2 - show name Povilas');
  writeln($strategyPovilas->show());
  writeln('');
 
  writeln('test 3 - show name Eimantas');
  writeln($strategyEimantas->show());
  writeln('');

  writeln('END TESTING STRATEGY PATTERN');

  function writeln($line_in) {
    echo $line_in."<br/>";
  }

?>
}
